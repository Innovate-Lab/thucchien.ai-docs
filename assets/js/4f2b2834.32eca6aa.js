"use strict";(self.webpackChunklitellm_user_guide=self.webpackChunklitellm_user_guide||[]).push([[462],{351:(e,t,n)=>{n.d(t,{A:()=>s});n(6540);const i={badge:"badge_ovIl",get:"get_Kd8K",post:"post_whBy",put:"put_qeuO",delete:"delete_lHtn",patch:"patch_n2W1"};var a=n(4848);const s=({method:e})=>{const t=e.toLowerCase(),n=`${i.badge} ${i[t]}`;return(0,a.jsx)("span",{className:n,children:e})}},2801:(e,t,n)=>{n.d(t,{A:()=>s});n(6540);const i={paramContainer:"paramContainer_GkjR",isEnd:"isEnd_hcu4",paramHeader:"paramHeader_LqwZ",paramName:"paramName_FShz",paramType:"paramType_sAx7",paramRequired:"paramRequired_yHHv",paramDescription:"paramDescription_GKXn"};var a=n(4848);function s({name:e,type:t,required:n,isEnd:s,indent:o=0,children:r}){const l={paddingLeft:24*o+"px"};return(0,a.jsxs)("div",{className:`${i.paramContainer} ${s?i.isEnd:""}`.trim(),style:l,children:[(0,a.jsxs)("div",{className:i.paramHeader,children:[(0,a.jsx)("code",{className:i.paramName,children:e}),(0,a.jsx)("span",{className:i.paramType,children:t}),n&&(0,a.jsx)("span",{className:i.paramRequired,children:"Required"})]}),(0,a.jsx)("div",{className:i.paramDescription,children:r})]})}},5484:(e,t,n)=>{n.d(t,{A:()=>x});var i=n(6540),a=n(4848);function s({value:e,onChange:t,className:n,rows:s=1}){const o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{o.current&&(o.current.style.height="auto",o.current.style.width="100%",o.current.style.height=`${o.current.scrollHeight}px`)},[e]),(0,a.jsx)("textarea",{ref:o,value:e,onChange:t,className:n,rows:s})}var o=n(1765),r=n(5293);const l={plain:{color:"#1D1E1E",backgroundColor:"#DEE4E9"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#717374"}},{types:["punctuation"],style:{color:"#A1A2A3"}},{types:["property","tag","boolean","number","constant","symbol","deleted"],style:{color:"#4970A8"}},{types:["selector","attr-name","string","char","builtin","inserted"],style:{color:"#1675D1"}},{types:["operator","entity","url","variable"],style:{color:"#1D1E1E"}},{types:["atrule","attr-value","keyword"],style:{color:"#1F53C0"}},{types:["function","class-name"],style:{color:"#50C2F6"}},{types:["regex","important"],style:{color:"#50C2F6"}}]},c={plain:{color:"#DEE4E9",backgroundColor:"#1D1E1E"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#717374"}},{types:["punctuation"],style:{color:"#A1A2A3"}},{types:["property","tag","boolean","number","constant","symbol","deleted"],style:{color:"#4970A8"}},{types:["selector","attr-name","string","char","builtin","inserted"],style:{color:"#50C2F6"}},{types:["operator","entity","url","variable"],style:{color:"#DEE4E9"}},{types:["atrule","attr-value","keyword"],style:{color:"#1675D1"}},{types:["function","class-name"],style:{color:"#50C2F6"}},{types:["regex","important"],style:{color:"#50C2F6"}}]},d={container:"container_uzIE",pre:"pre_bquu",code:"code_TRSg",inlineInput:"inlineInput_Oxdp",inlineSelect:"inlineSelect_HHj2",footer:"footer_jwYN",copyButton:"copyButton_kuvo",tryItButton:"tryItButton_EjMl"},p=({code:e,language:t,replacements:n})=>{const{colorMode:s}=(0,r.G)(),p="dark"===s?c:l;return(0,a.jsx)(o.f4,{theme:p,code:e,language:t,children:({className:e,style:t,tokens:s,getLineProps:o,getTokenProps:r})=>(0,a.jsx)("pre",{className:`${d.pre} ${e}`,style:{...t,...p.plain},children:(0,a.jsx)("code",{className:d.code,children:s.map((e,t)=>(0,a.jsx)("div",{...o({line:e,key:t}),children:e.map((e,t)=>{const s=e.content;if(s.includes("{{")){return s.split(/(\{\{.*?\}\})/g).filter(Boolean).map((s,o)=>{if(s.startsWith("{{")&&s.endsWith("}}")){const e=s.substring(2,s.length-2);return(0,a.jsx)(i.Fragment,{children:n[e]||null},`${t}-${o}`)}return(0,a.jsx)("span",{...r({token:{...e,content:s},key:`${t}-${o}`})},`${t}-${o}`)})}return(0,a.jsx)("span",{...r({token:e,key:t})})})}))})})})};function u({language:e,code:t,finalCode:n,replacements:s,onExecute:o,isLoading:r}){const[l,c]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:d.container,children:[(0,a.jsx)(p,{code:t,language:e,replacements:s}),(0,a.jsxs)("div",{className:d.footer,children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(n).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)})},className:d.copyButton,children:l?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})}):(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,a.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,a.jsx)("button",{onClick:o,disabled:r,className:d.tryItButton,children:r?"Executing...":"Try It!"})]})]})}const h={container:"container_WPKg",selectContainer:"selectContainer_pvM2",languageSelect:"languageSelect_wR8l",loading:"loading_MpjM",spinner:"spinner_oe9P",spin:"spin_EfBi",responseContainer:"responseContainer_rGko",responseTitle:"responseTitle_SrhN",videoPreview:"videoPreview_AsIU",audioPreviewContainer:"audioPreviewContainer_VSI3",imagePreviewContainer:"imagePreviewContainer_MBUt",audioPreview:"audioPreview_hJ7W",imagePreview:"imagePreview_yG_B"};var m=n(3457);const g={container:"container_ieM6",codeBlock:"codeBlock_TMXO",copyButton:"copyButton_hcKR"};function v({fullCode:e,truncatedCode:t,language:n,title:s}){const[o,r]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:g.container,children:[(0,a.jsx)(m.A,{language:n,title:s,className:g.codeBlock,children:t}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},className:g.copyButton,children:o?"Copied!":"Copy full"})]})}var y=n(7331);function x({apiUrl:e,method:t="POST",headers:n={"Content-Type":"application/json"},initialParameters:o,parameterControls:r,codeTemplates:l,buildBody:c,exampleResponse:p,isMarkdownResponse:g}){const[x,j]=(0,i.useState)(o),[w,f]=(0,i.useState)(Object.keys(l)[0]),[_,b]=(0,i.useState)(!1),[C,k]=(0,i.useState)(null),[N,E]=(0,i.useState)(null),[T,P]=(0,i.useState)(null),[R,A]=(0,i.useState)(null),[U,B]=(0,i.useState)(null),[S,L]=(0,i.useState)(null);(0,i.useEffect)(()=>()=>{T&&window.URL.revokeObjectURL(T),R&&window.URL.revokeObjectURL(R),U&&U.startsWith("blob:")&&window.URL.revokeObjectURL(U)},[T,R,U]);const O=(e,t)=>{j(n=>({...n,[e]:t}))},D=Object.keys(r).reduce((e,t)=>{const n=r[t];if("input"===n.type){const n=x[t]||"",i=Math.max(5,Math.min(n.length,40))+2;e[t]=(0,a.jsx)("input",{type:"text",value:n,onChange:e=>O(t,e.target.value),className:d.inlineInput,style:{width:`${i}ch`}})}else"textarea"===n.type?e[t]=(0,a.jsx)(s,{value:x[t],onChange:e=>O(t,e.target.value),className:d.inlineInput}):"select"===n.type&&n.options&&(e[t]=(0,a.jsx)("select",{value:x[t],onChange:e=>O(t,e.target.value),className:d.inlineSelect,children:n.options.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}));return e},{}),I=Object.keys(l).reduce((e,t)=>{let n=l[t].template;for(const i in x){const e="string"==typeof x[i]?x[i].replace(/"/g,'\\"'):x[i];n=n.replace(new RegExp(`{{${i}}}`,"g"),e)}return e[t]=n,e},{}),$=l[w],M=(e,t)=>"string"==typeof t&&t.length>200?t.substring(0,50)+"... [TRUNCATED] ..."+t.substring(t.length-50):t,W=(e,t,n,i)=>{const a=t*i/8,s=n*a,o=e.length,r=new ArrayBuffer(44+o),l=new DataView(r);F(l,0,"RIFF"),l.setUint32(4,36+o,!0),F(l,8,"WAVE"),F(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,t,!0),l.setUint32(24,n,!0),l.setUint32(28,s,!0),l.setUint16(32,a,!0),l.setUint16(34,i,!0),F(l,36,"data"),l.setUint32(40,o,!0);for(let c=0;c<o;c++)l.setUint8(44+c,e[c]);return new Blob([l],{type:"audio/wav"})},F=(e,t,n)=>{for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))};return(0,a.jsxs)("div",{className:h.container,children:[(0,a.jsx)("div",{className:h.selectContainer,children:(0,a.jsx)("select",{value:w,onChange:e=>f(e.target.value),className:h.languageSelect,children:Object.keys(l).map(e=>(0,a.jsx)("option",{value:e,children:e},e))})}),(0,a.jsx)(u,{language:$.language,code:$.template,finalCode:I[w],replacements:D,onExecute:async()=>{b(!0),k(null),E(null),P(null),A(null),B(null),L(null);const i={...n};x.apiKey&&(void 0!==n["x-goog-api-key"]?i["x-goog-api-key"]=x.apiKey:i.Authorization=`Bearer ${x.apiKey}`);let a=e;for(const e in x)a=a.replace(new RegExp(`{{${e}}}`,"g"),x[e]);try{const e={method:t,headers:i};if("GET"!==t&&c){const t=c(x);t&&(e.body=JSON.stringify(t))}const n=await fetch(a,e);if(!n.ok){const e=await n.text();throw new Error(`API Error: ${n.status} ${n.statusText} - ${e}`)}const o=n.headers.get("content-type");if(o&&o.includes("application/json")){const e=await n.json();if(k(e),g){const t=e?.choices?.[0]?.message?.content;t&&L(t)}let t=null,i="image/png";if(e?.data?.[0]?.b64_json)t=e.data[0].b64_json;else if(e?.choices?.[0]?.message?.images?.[0]?.image_url?.url){const t=e.choices[0].message.images[0].image_url.url;B(t)}else e?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data&&e.candidates[0].content.parts[0].inlineData.mimeType.startsWith("image/")&&(t=e.candidates[0].content.parts[0].inlineData.data,i=e.candidates[0].content.parts[0].inlineData.mimeType);if(t)try{const e=atob(t),n=new Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);const a=new Uint8Array(n),s=new Blob([a],{type:i}),o=window.URL.createObjectURL(s);B(o)}catch(s){console.error("Error decoding base64 image:",s)}const a=e?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.data,o=e?.candidates?.[0]?.content?.parts?.[0]?.inlineData?.mimeType;if(a&&o&&o.startsWith("audio/L16")){const e=o.match(/rate=(\d+)/),t=e?parseInt(e[1],10):24e3,n=atob(a),i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);const s=W(i,1,t,16),r=window.URL.createObjectURL(s);A(r)}}else{k(null);const e=await n.blob(),t=window.URL.createObjectURL(e);e.type.startsWith("video/")?P(t):e.type.startsWith("audio/")&&A(t);const i=document.createElement("a");i.href=t,i.download=e.type.startsWith("video/")?"generated_video.mp4":"generated_audio.mp3",document.body.appendChild(i),i.click(),i.remove()}}catch(o){E(o.message)}finally{b(!1)}},isLoading:_},w),_&&(0,a.jsx)("div",{className:h.loading,children:(0,a.jsx)("div",{className:h.spinner})}),N&&(0,a.jsx)(m.A,{language:"text",title:"Error",children:N}),C&&(0,a.jsxs)("div",{className:h.responseContainer,children:[(0,a.jsx)(v,{language:"json",title:"Response",fullCode:JSON.stringify(C,null,2),truncatedCode:JSON.stringify(C,M,2)}),S&&(0,a.jsxs)("div",{className:h.markdownPreviewContainer,children:[(0,a.jsx)("h3",{className:h.responseTitle,children:"Preview"}),(0,a.jsx)("div",{className:h.markdownPreview,children:(0,a.jsx)(y.oz,{children:S})})]}),U&&(0,a.jsxs)("div",{className:h.imagePreviewContainer,children:[(0,a.jsx)("h3",{className:h.responseTitle,children:"Image Preview"}),(0,a.jsx)("img",{src:U,alt:"Generated Image",className:h.imagePreview})]})]}),T&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:h.responseTitle,children:"Video Preview"}),(0,a.jsx)("video",{src:T,controls:!0,className:h.videoPreview})]}),R&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:h.responseTitle,children:"Audio Preview"}),(0,a.jsx)("audio",{src:R,controls:!0,className:h.audioPreview})]}),!_&&!N&&!C&&!T&&!R&&!U&&p&&(0,a.jsx)(v,{language:"json",title:"Example Response",fullCode:JSON.stringify(p,null,2),truncatedCode:JSON.stringify(p,M,2)})]})}},5878:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>g,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"api-reference/video-generation-download","title":"T\u1ea3i xu\u1ed1ng video ho\xe0n th\xe0nh","description":"T\u1ea3i xu\u1ed1ng file video \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o.","source":"@site/docs/api-reference/video-generation-download.mdx","sourceDirName":"api-reference","slug":"/api-reference/video-generation-download","permalink":"/docs/api-reference/video-generation-download","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"T\u1ea3i xu\u1ed1ng video ho\xe0n th\xe0nh","description":"T\u1ea3i xu\u1ed1ng file video \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o.","hide_table_of_contents":true},"sidebar":"tutorialSidebar","previous":{"title":"Ki\u1ec3m tra tr\u1ea1ng th\xe1i video","permalink":"/docs/api-reference/video-generation-status"},"next":{"title":"Chuy\u1ec3n v\u0103n b\u1ea3n th\xe0nh gi\u1ecdng n\xf3i","permalink":"/docs/api-reference/text-to-speech"}}');var a=n(4848),s=n(8453),o=n(8863),r=n(5484),l=n(2801),c=n(351);const d={sidebar_position:6,title:"T\u1ea3i xu\u1ed1ng video ho\xe0n th\xe0nh",description:"T\u1ea3i xu\u1ed1ng file video \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o.",hide_table_of_contents:!0},p="Sinh video (B\u01b0\u1edbc 3/3): T\u1ea3i video",u={},h=[{value:"<Badge></Badge> <code>/gemini/download/v1beta/files/{video_id}:download?alt=media</code>",id:"-geminidownloadv1betafilesvideo_iddownloadaltmedia",level:2},{value:"Tham s\u1ed1 \u0111\u01b0\u1eddng d\u1eabn (Path Parameters)",id:"tham-s\u1ed1-\u0111\u01b0\u1eddng-d\u1eabn-path-parameters",level:3},{value:"Ph\u1ea3n h\u1ed3i (Response)",id:"ph\u1ea3n-h\u1ed3i-response",level:3}];function m(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"sinh-video-b\u01b0\u1edbc-33-t\u1ea3i-video",children:"Sinh video (B\u01b0\u1edbc 3/3): T\u1ea3i video"})}),"\n",(0,a.jsxs)(t.h2,{id:"-geminidownloadv1betafilesvideo_iddownloadaltmedia",children:[(0,a.jsx)(c.A,{method:"GET"})," ",(0,a.jsx)(t.code,{children:"/gemini/download/v1beta/files/{video_id}:download?alt=media"})]}),"\n",(0,a.jsxs)(t.p,{children:["Khi video \u0111\xe3 s\u1eb5n s\xe0ng, k\u1ebft qu\u1ea3 ki\u1ec3m tra tr\u1ea1ng th\xe1i s\u1ebd ch\u1ee9a m\u1ed9t URI. B\u1ea1n s\u1eed d\u1ee5ng ",(0,a.jsx)(t.code,{children:"video_id"})," tr\xedch xu\u1ea5t t\u1eeb URI n\xe0y \u0111\u1ec3 t\u1ea3i video v\u1ec1."]}),"\n",(0,a.jsxs)(o.Ay,{children:[(0,a.jsxs)(o.ir,{children:[(0,a.jsx)(t.h3,{id:"tham-s\u1ed1-\u0111\u01b0\u1eddng-d\u1eabn-path-parameters",children:"Tham s\u1ed1 \u0111\u01b0\u1eddng d\u1eabn (Path Parameters)"}),(0,a.jsx)(l.A,{name:"video_id",type:"string",required:!0,isEnd:!0,children:(0,a.jsxs)(t.p,{children:["ID c\u1ee7a video c\u1ea7n t\u1ea3i v\u1ec1, \u0111\u01b0\u1ee3c tr\xedch xu\u1ea5t t\u1eeb ",(0,a.jsx)(t.code,{children:"uri"})," \u1edf B\u01b0\u1edbc 2. V\xed d\u1ee5: ",(0,a.jsx)(t.code,{children:"3j6svp4106e7"}),"."]})}),(0,a.jsx)(t.hr,{}),(0,a.jsx)(t.h3,{id:"ph\u1ea3n-h\u1ed3i-response",children:"Ph\u1ea3n h\u1ed3i (Response)"}),(0,a.jsxs)(t.p,{children:["Ph\u1ea3n h\u1ed3i th\xe0nh c\xf4ng s\u1ebd l\xe0 d\u1eef li\u1ec7u video (v\xed d\u1ee5: file ",(0,a.jsx)(t.code,{children:"video/mp4"}),")."]})]}),(0,a.jsx)(o.LO,{children:(0,a.jsx)(r.A,{method:"GET",apiUrl:"https://api.thucchien.ai/gemini/download/v1beta/files/{{video_id}}:download?alt=media",initialParameters:{apiKey:"<your_api_key>",video_id:"3j6svp4106e7"},headers:{"x-goog-api-key":"<your_api_key>"},parameterControls:{apiKey:{type:"input"},video_id:{type:"input"}},codeTemplates:{curl:{language:"bash",template:'curl "https://api.thucchien.ai/gemini/download/v1beta/files/{{video_id}}:download?alt=media" \\\n-H "x-goog-api-key: {{apiKey}}" \\\n--output my_generated_video.mp4'}},buildBody:e=>null,exampleResponse:{message:"Ph\u1ea3n h\u1ed3i th\xe0nh c\xf4ng s\u1ebd l\xe0 file video. Tr\xecnh duy\u1ec7t s\u1ebd t\u1ef1 \u0111\u1ed9ng t\u1ea3i file v\u1ec1."}})})]})]})}function g(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},8863:(e,t,n)=>{n.d(t,{ir:()=>o,LO:()=>r,Ay:()=>l});var i=n(6540);const a={layout:"layout_ZuT3",leftColumn:"leftColumn_NdJm",rightColumn:"rightColumn_kjuN"};var s=n(4848);function o({children:e}){return(0,s.jsx)(s.Fragment,{children:e})}function r({children:e}){return(0,s.jsx)(s.Fragment,{children:e})}function l({children:e}){const t=i.Children.toArray(e).find(e=>(0,i.isValidElement)(e)&&e.type===o),n=i.Children.toArray(e).find(e=>(0,i.isValidElement)(e)&&e.type===r);return(0,s.jsxs)("div",{className:a.layout,children:[(0,s.jsx)("div",{className:a.leftColumn,children:t}),(0,s.jsx)("div",{className:a.rightColumn,children:n})]})}}}]);