"use strict";(self.webpackChunklitellm_user_guide=self.webpackChunklitellm_user_guide||[]).push([[271],{351:(e,n,t)=>{t.d(n,{A:()=>i});t(6540);const a={badge:"badge_ovIl",get:"get_Kd8K",post:"post_whBy",put:"put_qeuO",delete:"delete_lHtn",patch:"patch_n2W1"};var s=t(4848);const i=({method:e})=>{const n=e.toLowerCase(),t=`${a.badge} ${a[n]}`;return(0,s.jsx)("span",{className:t,children:e})}},2801:(e,n,t)=>{t.d(n,{A:()=>i});t(6540);const a={paramContainer:"paramContainer_GkjR",isEnd:"isEnd_hcu4",paramHeader:"paramHeader_LqwZ",paramName:"paramName_FShz",paramType:"paramType_sAx7",paramRequired:"paramRequired_yHHv",paramDescription:"paramDescription_GKXn"};var s=t(4848);function i({name:e,type:n,required:t,isEnd:i,indent:r=0,children:o}){const c={paddingLeft:24*r+"px"};return(0,s.jsxs)("div",{className:`${a.paramContainer} ${i?a.isEnd:""}`.trim(),style:c,children:[(0,s.jsxs)("div",{className:a.paramHeader,children:[(0,s.jsx)("code",{className:a.paramName,children:e}),(0,s.jsx)("span",{className:a.paramType,children:n}),t&&(0,s.jsx)("span",{className:a.paramRequired,children:"Required"})]}),(0,s.jsx)("div",{className:a.paramDescription,children:o})]})}},4715:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>h,default:()=>g,frontMatter:()=>d,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"api-reference/image-generation-chat","title":"Sinh h\xecnh \u1ea3nh (v\u1edbi Chat)","description":"T\u1ea1o h\xecnh \u1ea3nh trong m\u1ed9t cu\u1ed9c h\u1ed9i tho\u1ea1i b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\xf4 h\xecnh \u0111a ph\u01b0\u01a1ng th\u1ee9c.","source":"@site/docs/api-reference/image-generation-chat.mdx","sourceDirName":"api-reference","slug":"/api-reference/image-generation-chat","permalink":"/docs/api-reference/image-generation-chat","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api-reference/image-generation-chat.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Sinh h\xecnh \u1ea3nh (v\u1edbi Chat)","description":"T\u1ea1o h\xecnh \u1ea3nh trong m\u1ed9t cu\u1ed9c h\u1ed9i tho\u1ea1i b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\xf4 h\xecnh \u0111a ph\u01b0\u01a1ng th\u1ee9c.","hide_table_of_contents":true},"sidebar":"tutorialSidebar","previous":{"title":"Sinh h\xecnh \u1ea3nh","permalink":"/docs/api-reference/image-generation"},"next":{"title":"Sinh h\xecnh \u1ea3nh (v\u1edbi Google Gemini)","permalink":"/docs/api-reference/image-generation-gemini"}}');var s=t(4848),i=t(8453),r=t(8863),o=t(5484),c=t(2801),l=(t(3457),t(351));const d={sidebar_position:3,title:"Sinh h\xecnh \u1ea3nh (v\u1edbi Chat)",description:"T\u1ea1o h\xecnh \u1ea3nh trong m\u1ed9t cu\u1ed9c h\u1ed9i tho\u1ea1i b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\xf4 h\xecnh \u0111a ph\u01b0\u01a1ng th\u1ee9c.",hide_table_of_contents:!0},h="Sinh h\xecnh \u1ea3nh (v\u1edbi Chat Completions)",p={},u=[{value:"<Badge></Badge> <code>/chat/completions</code>",id:"-chatcompletions",level:2},{value:"C\u1ea5u tr\xfac y\xeau c\u1ea7u (Request Body)",id:"c\u1ea5u-tr\xfac-y\xeau-c\u1ea7u-request-body",level:3},{value:"C\u1ea5u tr\xfac Ph\u1ea3n h\u1ed3i (Response Body)",id:"c\u1ea5u-tr\xfac-ph\u1ea3n-h\u1ed3i-response-body",level:3},{value:"\u0110\u1ed1i t\u01b0\u1ee3ng <code>ImageMessage</code>",id:"\u0111\u1ed1i-t\u01b0\u1ee3ng-imagemessage",level:4},{value:"\u0110\u1ed1i t\u01b0\u1ee3ng <code>ImageURL</code>",id:"\u0111\u1ed1i-t\u01b0\u1ee3ng-imageurl",level:4}];function m(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"sinh-h\xecnh-\u1ea3nh-v\u1edbi-chat-completions",children:"Sinh h\xecnh \u1ea3nh (v\u1edbi Chat Completions)"})}),"\n",(0,s.jsxs)(n.h2,{id:"-chatcompletions",children:[(0,s.jsx)(l.A,{method:"POST"})," ",(0,s.jsx)(n.code,{children:"/chat/completions"})]}),"\n",(0,s.jsx)(n.p,{children:"T\u1ea1o h\xecnh \u1ea3nh trong m\u1ed9t cu\u1ed9c h\u1ed9i tho\u1ea1i b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng m\xf4 h\xecnh \u0111a ph\u01b0\u01a1ng th\u1ee9c."}),"\n",(0,s.jsxs)(r.Ay,{children:[(0,s.jsxs)(r.ir,{children:[(0,s.jsx)(n.h3,{id:"c\u1ea5u-tr\xfac-y\xeau-c\u1ea7u-request-body",children:"C\u1ea5u tr\xfac y\xeau c\u1ea7u (Request Body)"}),(0,s.jsx)(c.A,{name:"messages",type:"array",required:!0,children:(0,s.jsx)(n.p,{children:"M\u1ed9t danh s\xe1ch c\xe1c \u0111\u1ed1i t\u01b0\u1ee3ng message. Message cu\u1ed1i c\xf9ng n\xean ch\u1ee9a prompt \u0111\u1ec3 t\u1ea1o \u1ea3nh."})}),(0,s.jsx)(c.A,{name:"model",type:"string",required:!0,children:(0,s.jsxs)(n.p,{children:["ID c\u1ee7a m\xf4 h\xecnh \u0111a ph\u01b0\u01a1ng th\u1ee9c s\u1ebd s\u1eed d\u1ee5ng. V\xed d\u1ee5: ",(0,s.jsx)(n.code,{children:"gemini-2.5-flash-image-preview"}),"."]})}),(0,s.jsx)(c.A,{name:"modalities",type:"array",isEnd:!0,children:(0,s.jsxs)(n.p,{children:["Ch\u1ec9 \u0111\u1ecbnh ",(0,s.jsx)(n.code,{children:'["image"]'})," \u0111\u1ec3 y\xeau c\u1ea7u tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u h\xecnh \u1ea3nh."]})}),(0,s.jsx)(n.hr,{}),(0,s.jsx)(n.h3,{id:"c\u1ea5u-tr\xfac-ph\u1ea3n-h\u1ed3i-response-body",children:"C\u1ea5u tr\xfac Ph\u1ea3n h\u1ed3i (Response Body)"}),(0,s.jsxs)(n.p,{children:["Ph\u1ea3n h\u1ed3i s\u1ebd t\u01b0\u01a1ng t\u1ef1 nh\u01b0 c\u1ee7a Chat Completions, nh\u01b0ng \u0111\u1ed1i t\u01b0\u1ee3ng ",(0,s.jsx)(n.code,{children:"message"})," s\u1ebd ch\u1ee9a m\u1ed9t m\u1ea3ng ",(0,s.jsx)(n.code,{children:"images"}),"."]}),(0,s.jsxs)(n.h4,{id:"\u0111\u1ed1i-t\u01b0\u1ee3ng-imagemessage",children:["\u0110\u1ed1i t\u01b0\u1ee3ng ",(0,s.jsx)(n.code,{children:"ImageMessage"})]}),(0,s.jsx)(c.A,{name:"images",type:"array",isEnd:!0,children:(0,s.jsx)(n.p,{children:"M\u1ed9t danh s\xe1ch c\xe1c \u0111\u1ed1i t\u01b0\u1ee3ng h\xecnh \u1ea3nh \u0111\u01b0\u1ee3c t\u1ea1o."})}),(0,s.jsxs)(n.h4,{id:"\u0111\u1ed1i-t\u01b0\u1ee3ng-imageurl",children:["\u0110\u1ed1i t\u01b0\u1ee3ng ",(0,s.jsx)(n.code,{children:"ImageURL"})]}),(0,s.jsx)(c.A,{name:"image_url",type:"object",isEnd:!0,children:(0,s.jsx)(n.p,{children:"\u0110\u1ed1i t\u01b0\u1ee3ng ch\u1ee9a URL d\u1eef li\u1ec7u base64 c\u1ee7a \u1ea3nh."})}),(0,s.jsx)(c.A,{name:"url",type:"string",isEnd:!0,children:(0,s.jsxs)(n.p,{children:["URL d\u1eef li\u1ec7u base64 c\u1ee7a \u1ea3nh (v\xed d\u1ee5: ",(0,s.jsx)(n.code,{children:"data:image/png;base64,..."}),")."]})})]}),(0,s.jsx)(r.LO,{children:(0,s.jsx)(o.A,{apiUrl:"https://api.thucchien.ai/chat/completions",initialParameters:{apiKey:"<your_api_key>",model:"gemini-2.5-flash-image-preview",prompt:"A breathtaking scene where a majestic waterfall cascades down rugged cliffs, shimmering like silver threads under the warm sunlight. Lush greenery surrounds the falls\u2014towering trees, vibrant flowers, and soft moss painting nature\u2019s perfect canvas. Mist rises gently, forming a magical rainbow that arches across the sky, while birds soar gracefully above as if dancing to the music of nature. A dreamlike moment that blends serenity and beauty in one stunning view."},parameterControls:{apiKey:{type:"input"},model:{type:"select",options:["gemini-2.5-flash-image-preview"]},prompt:{type:"textarea"}},codeTemplates:{curl:{language:"bash",template:'curl https://api.thucchien.ai/chat/completions \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer {{apiKey}}" \\\n-d \'{\n  "model": "{{model}}",\n  "messages": [\n    {\n      "role": "user",\n      "content": "{{prompt}}"\n    }\n  ],\n  "modalities": ["image"]\n}\''},"Python (openai)":{language:"python",template:'from openai import OpenAI\nimport base64\n\nclient = OpenAI(\n  api_key="{{apiKey}}",\n  base_url="https://api.thucchien.ai"\n)\n\nresponse = client.chat.completions.create(\n  model="{{model}}",\n  messages=[{"role": "user", "content": "{{prompt}}"}],\n  modalities=["image"]\n)\n\n# L\u01b0u \u1ea3nh t\u1eeb d\u1eef li\u1ec7u base64\nbase64_string = response.choices[0].message.images[0].image_url.url\nif \',\' in base64_string:\n  header, encoded = base64_string.split(\',\', 1)\nelse:\n  encoded = base64_string\nimage_data = base64.b64decode(encoded)\nwith open("generated_chat_image.png", "wb") as f:\n  f.write(image_data)\nprint("Image saved to generated_chat_image.png")'}},buildBody:e=>({model:e.model,messages:[{role:"user",content:e.prompt}],modalities:["image"]}),exampleResponse:{id:"chatcmpl-mock",object:"chat.completion",created:1759806089,model:"gemini-2.5-flash-image-preview",choices:[{index:0,message:{role:"assistant",content:null,images:[{image_url:{url:"data:image/png;base64,<base64_encoded_image_data>"}}]},finish_reason:"stop"}],usage:{prompt_tokens:15,completion_tokens:1,total_tokens:16}}})})]})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},5484:(e,n,t)=>{t.d(n,{A:()=>x});var a=t(6540),s=t(4848);function i({value:e,onChange:n,className:t,rows:i=1}){const r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{r.current&&(r.current.style.height="auto",r.current.style.width="100%",r.current.style.height=`${r.current.scrollHeight}px`)},[e]),(0,s.jsx)("textarea",{ref:r,value:e,onChange:n,className:t,rows:i})}var r=t(1765),o=t(5293);const c={plain:{color:"#1D1E1E",backgroundColor:"#DEE4E9"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#717374"}},{types:["punctuation"],style:{color:"#A1A2A3"}},{types:["property","tag","boolean","number","constant","symbol","deleted"],style:{color:"#4970A8"}},{types:["selector","attr-name","string","char","builtin","inserted"],style:{color:"#1675D1"}},{types:["operator","entity","url","variable"],style:{color:"#1D1E1E"}},{types:["atrule","attr-value","keyword"],style:{color:"#1F53C0"}},{types:["function","class-name"],style:{color:"#50C2F6"}},{types:["regex","important"],style:{color:"#50C2F6"}}]},l={plain:{color:"#DEE4E9",backgroundColor:"#1D1E1E"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#717374"}},{types:["punctuation"],style:{color:"#A1A2A3"}},{types:["property","tag","boolean","number","constant","symbol","deleted"],style:{color:"#4970A8"}},{types:["selector","attr-name","string","char","builtin","inserted"],style:{color:"#50C2F6"}},{types:["operator","entity","url","variable"],style:{color:"#DEE4E9"}},{types:["atrule","attr-value","keyword"],style:{color:"#1675D1"}},{types:["function","class-name"],style:{color:"#50C2F6"}},{types:["regex","important"],style:{color:"#50C2F6"}}]},d={container:"container_uzIE",pre:"pre_bquu",code:"code_TRSg",inlineInput:"inlineInput_Oxdp",inlineSelect:"inlineSelect_HHj2",footer:"footer_jwYN",copyButton:"copyButton_kuvo",tryItButton:"tryItButton_EjMl"},h=({code:e,language:n,replacements:t})=>{const{colorMode:i}=(0,o.G)(),h="dark"===i?l:c;return(0,s.jsx)(r.f4,{theme:h,code:e,language:n,children:({className:e,style:n,tokens:i,getLineProps:r,getTokenProps:o})=>(0,s.jsx)("pre",{className:`${d.pre} ${e}`,style:{...n,...h.plain},children:(0,s.jsx)("code",{className:d.code,children:i.map((e,n)=>(0,s.jsx)("div",{...r({line:e,key:n}),children:e.map((e,n)=>{const i=e.content;if(i.includes("{{")){return i.split(/(\{\{.*?\}\})/g).filter(Boolean).map((i,r)=>{if(i.startsWith("{{")&&i.endsWith("}}")){const e=i.substring(2,i.length-2);return(0,s.jsx)(a.Fragment,{children:t[e]||null},`${n}-${r}`)}return(0,s.jsx)("span",{...o({token:{...e,content:i},key:`${n}-${r}`})},`${n}-${r}`)})}return(0,s.jsx)("span",{...o({token:e,key:n})})})}))})})})};function p({language:e,code:n,finalCode:t,replacements:i,onExecute:r,isLoading:o}){const[c,l]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:d.container,children:[(0,s.jsx)(h,{code:n,language:e,replacements:i}),(0,s.jsxs)("div",{className:d.footer,children:[(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t).then(()=>{l(!0),setTimeout(()=>l(!1),2e3)})},className:d.copyButton,children:c?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("polyline",{points:"20 6 9 17 4 12"})}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,s.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,s.jsx)("button",{onClick:r,disabled:o,className:d.tryItButton,children:o?"Executing...":"Try It!"})]})]})}const u={container:"container_WPKg",selectContainer:"selectContainer_pvM2",languageSelect:"languageSelect_wR8l",loading:"loading_MpjM",spinner:"spinner_oe9P",spin:"spin_EfBi",responseTitle:"responseTitle_SrhN",videoPreview:"videoPreview_AsIU"};var m=t(3457);const g={container:"container_ieM6",codeBlock:"codeBlock_TMXO",copyButton:"copyButton_hcKR"};function y({fullCode:e,truncatedCode:n,language:t,title:i}){const[r,o]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:g.container,children:[(0,s.jsx)(m.A,{language:t,title:i,className:g.codeBlock,children:n}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})},className:g.copyButton,children:r?"Copied!":"Copy full"})]})}function x({apiUrl:e,method:n="POST",headers:t={"Content-Type":"application/json"},initialParameters:r,parameterControls:o,codeTemplates:c,buildBody:l,exampleResponse:h}){const[g,x]=(0,a.useState)(r),[j,v]=(0,a.useState)(Object.keys(c)[0]),[f,b]=(0,a.useState)(!1),[_,C]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[N,E]=(0,a.useState)(null);(0,a.useEffect)(()=>()=>{N&&window.URL.revokeObjectURL(N)},[N]);const A=(e,n)=>{x(t=>({...t,[e]:n}))},S=Object.keys(o).reduce((e,n)=>{const t=o[n];return"input"===t.type?e[n]=(0,s.jsx)("input",{type:"text",value:g[n],onChange:e=>A(n,e.target.value),className:d.inlineInput}):"textarea"===t.type?e[n]=(0,s.jsx)(i,{value:g[n],onChange:e=>A(n,e.target.value),className:d.inlineInput}):"select"===t.type&&t.options&&(e[n]=(0,s.jsx)("select",{value:g[n],onChange:e=>A(n,e.target.value),className:d.inlineSelect,children:t.options.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})),e},{}),R=Object.keys(c).reduce((e,n)=>{let t=c[n].template;for(const a in g){const e="string"==typeof g[a]?g[a].replace(/"/g,'\\"'):g[a];t=t.replace(new RegExp(`{{${a}}}`,"g"),e)}return e[n]=t,e},{}),T=c[j],B=(e,n)=>"string"==typeof n&&n.length>200?n.substring(0,50)+"... [TRUNCATED]":n;return(0,s.jsxs)("div",{className:u.container,children:[(0,s.jsx)("div",{className:u.selectContainer,children:(0,s.jsx)("select",{value:j,onChange:e=>v(e.target.value),className:u.languageSelect,children:Object.keys(c).map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(p,{language:T.language,code:T.template,finalCode:R[j],replacements:S,onExecute:async()=>{b(!0),C(null),k(null),E(null);const a={...t};g.apiKey&&(void 0!==t["x-goog-api-key"]&&(a["x-goog-api-key"]=g.apiKey),void 0!==t.Authorization&&(a.Authorization=`Bearer ${g.apiKey}`));let s=e;for(const e in g)s=s.replace(new RegExp(`{{${e}}}`,"g"),g[e]);try{const e={method:n,headers:a};if("GET"!==n&&l){const n=l(g);n&&(e.body=JSON.stringify(n))}const t=await fetch(s,e);if(!t.ok){const e=await t.text();throw new Error(`API Error: ${t.status} ${t.statusText} - ${e}`)}const i=t.headers.get("content-type");if(i&&i.includes("application/json")){const e=await t.json();C(e)}else{C(null);const e=await t.blob(),n=window.URL.createObjectURL(e);e.type.startsWith("video/")&&E(n);const a=document.createElement("a");a.href=n,a.download="my_generated_video.mp4",document.body.appendChild(a),a.click(),a.remove()}}catch(i){k(i.message)}finally{b(!1)}},isLoading:f},j),f&&(0,s.jsx)("div",{className:u.loading,children:(0,s.jsx)("div",{className:u.spinner})}),w&&(0,s.jsx)(m.A,{language:"text",title:"Error",children:w}),_&&(0,s.jsx)(y,{language:"json",title:"Response",fullCode:JSON.stringify(_,null,2),truncatedCode:JSON.stringify(_,B,2)}),N&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:u.responseTitle,children:"Preview"}),(0,s.jsx)("video",{src:N,controls:!0,className:u.videoPreview})]}),!f&&!w&&!_&&!N&&h&&(0,s.jsx)(y,{language:"json",title:"Example Response",fullCode:JSON.stringify(h,null,2),truncatedCode:JSON.stringify(h,B,2)})]})}},8863:(e,n,t)=>{t.d(n,{ir:()=>r,LO:()=>o,Ay:()=>c});var a=t(6540);const s={layout:"layout_ZuT3",leftColumn:"leftColumn_NdJm",rightColumn:"rightColumn_kjuN"};var i=t(4848);function r({children:e}){return(0,i.jsx)(i.Fragment,{children:e})}function o({children:e}){return(0,i.jsx)(i.Fragment,{children:e})}function c({children:e}){const n=a.Children.toArray(e).find(e=>(0,a.isValidElement)(e)&&e.type===r),t=a.Children.toArray(e).find(e=>(0,a.isValidElement)(e)&&e.type===o);return(0,i.jsxs)("div",{className:s.layout,children:[(0,i.jsx)("div",{className:s.leftColumn,children:n}),(0,i.jsx)("div",{className:s.rightColumn,children:t})]})}}}]);