---
sidebar_position: 8
title: Chuyển văn bản thành giọng nói (với Google Gemini)
description: Tạo file âm thanh với endpoint pass through tới Google Gemini.
hide_table_of_contents: true
---

import ApiReferenceLayout, { LeftColumn, RightColumn } from '@site/src/components/ApiReferenceLayout';
import InteractiveApiRequest from '@site/src/components/InteractiveApiRequest';
import ApiParameter from '@site/src/components/ApiParameter';
import CodeBlock from '@theme/CodeBlock';
import Badge from '@site/src/components/Badge';
import SpeechOutput from '@site/static/audio/speech_output.mp3';

# Chuyển văn bản thành giọng nói (với Google Gemini)

## <Badge method="POST" /> `/gemini/v1beta/models/{model}:generateContent`

Tạo file âm thanh với endpoint pass through tới Google Gemini.

:::info[Tham khảo]
Chi tiết đầy đủ các tham số, tham khảo [tài liệu Google Gemini](https://ai.google.dev/gemini-api/docs/speech-generation).
:::

<ApiReferenceLayout>
  <LeftColumn>
    ### Tham số đường dẫn (Path Parameters)
    <ApiParameter name="model" type="string" required isEnd>
      ID của mô hình sẽ sử dụng. Ví dụ: `gemini-2.5-flash-preview-tts`.
    </ApiParameter>

    ### Cấu trúc yêu cầu (Request Body)

    <ApiParameter name="contents" type="array" required>
      Nội dung của yêu cầu.
    </ApiParameter>
    <ApiParameter name="parts" type="array" required indent={1}>
      Một danh sách các phần của nội dung.
    </ApiParameter>
    <ApiParameter name="text" type="string" required indent={2} isEnd>
      Prompt văn bản để chuyển thành giọng nói.
    </ApiParameter>
    <ApiParameter name="generationConfig" type="object">
      Cấu hình cho việc sinh nội dung.
    </ApiParameter>
    <ApiParameter name="responseModalities" type="array" indent={1}>
      Chỉ định `["AUDIO"]` để yêu cầu trả về dữ liệu âm thanh.
    </ApiParameter>
    <ApiParameter name="speechConfig" type="object" indent={1} isEnd>
      Cấu hình dành riêng cho việc sinh giọng nói.
    </ApiParameter>
    <ApiParameter name="voiceConfig" type="object" indent={2}>
      Cấu hình cho giọng nói của một người nói.
    </ApiParameter>
    <ApiParameter name="prebuiltVoiceConfig" type="object" indent={3}>
      Sử dụng một giọng nói được dựng sẵn.
    </ApiParameter>
    <ApiParameter name="voiceName" type="string" indent={4} isEnd>
      Tên của giọng nói sẽ sử dụng. Ví dụ: `Kore`.
    </ApiParameter>
    <ApiParameter name="multiSpeakerVoiceConfig" type="object" indent={2}>
      Cấu hình cho giọng nói của nhiều người nói.
    </ApiParameter>
    <ApiParameter name="speakerVoiceConfigs" type="array" indent={3}>
      Một danh sách các cấu hình giọng nói cho từng người nói.
    </ApiParameter>
    <ApiParameter name="speaker" type="string" indent={4}>
      Tên của người nói (phải khớp với tên trong prompt).
    </ApiParameter>
    <ApiParameter name="voiceConfig" type="object" indent={4} isEnd>
      Cấu hình giọng nói cho người nói này.
    </ApiParameter>

    ---

    ### Cấu trúc Phản hồi (Response Body)

    Phản hồi thành công sẽ chứa dữ liệu âm thanh được mã hóa base64.

    #### Đối tượng `Candidate`
    <ApiParameter name="candidates" type="array">
      Một danh sách các ứng viên được tạo.
    </ApiParameter>
    <ApiParameter name="content" type="object" indent={1}>
      Nội dung của ứng viên.
    </ApiParameter>
    <ApiParameter name="parts" type="array" indent={2}>
      Một danh sách các phần của nội dung.
    </ApiParameter>
    <ApiParameter name="inlineData" type="object" indent={3}>
      Dữ liệu âm thanh dưới dạng base64.
    </ApiParameter>
    <ApiParameter name="mime_type" type="string" indent={4}>
      Loại MIME của âm thanh, ví dụ: `audio/L16;codec=pcm;rate=24000`.
    </ApiParameter>
    <ApiParameter name="data" type="string" indent={4} isEnd>
      Dữ liệu âm thanh được mã hóa base64.
    </ApiParameter>

  </LeftColumn>
  <RightColumn>
    ### Ví dụ một người nói (Single-speaker)
    <InteractiveApiRequest
      apiUrl="https://api.thucchien.ai/gemini/v1beta/models/{{model}}:generateContent"
      initialParameters={{
        apiKey: '<your_api_key>',
        model: 'gemini-2.5-flash-preview-tts',
        input: 'Say cheerfully: Have a wonderful day!',
        voiceName: 'Kore',
      }}
      parameterControls={{
        apiKey: { type: 'input' },
        model: { type: 'select', options: ['gemini-2.5-flash-preview-tts', 'gemini-2.5-pro-preview-tts'] },
        input: { type: 'textarea' },
        voiceName: { type: 'select', options: ['Zephyr', 'Puck', 'Charon', 'Kore', 'Fenrir', 'Leda', 'Orus', 'Aoede', 'Callirrhoe', 'Autonoe', 'Enceladus', 'Iapetus', 'Umbriel', 'Algieba', 'Despina', 'Erinome', 'Algenib', 'Rasalgethi', 'Laomedeia', 'Achernar', 'Alnilam', 'Schedar', 'Gacrux', 'Pulcherrima', 'Achird', 'Zubenelgenubi', 'Vindemiatrix', 'Sadachbia', 'Sadaltager', 'Sulafat'] },
      }}
      headers={{
        'Content-Type': 'application/json',
        'x-goog-api-key': '<your_api_key>',
      }}
      codeTemplates={{
        'curl': {
          language: 'bash',
          template: `curl 'https://api.thucchien.ai/gemini/v1beta/models/{{model}}:generateContent' \\
  -H 'x-goog-api-key: {{apiKey}}' \\
  -H 'Content-Type: application/json' \\
  -d '{
    "contents": [{
      "parts": [
        {"text": "{{input}}"}
      ]
    }],
    "generationConfig": {
        "responseModalities": ["AUDIO"],
        "speechConfig": {
          "voiceConfig": {
            "prebuiltVoiceConfig": {
              "voiceName": "{{voiceName}}"
            }
          }
        }
    }
  }'`,
        },
      }}
      buildBody={(params) => ({
        contents: [{
          parts: [
            { text: params.input }
          ]
        }],
        generationConfig: {
            responseModalities: ["AUDIO"],
            speechConfig: {
              voiceConfig: {
                prebuiltVoiceConfig: {
                  voiceName: params.voiceName
                }
              }
            }
        }
      })}
      isAudioResponse={true}
      exampleResponse={{
        "candidates": [
          { "content": { "parts": [{ "inlineData": { "mime_type": "audio/L16;codec=pcm;rate=24000", "data": "<base64_encoded_audio_data>" } }], "role": "model" } }
        ]
      }}
    />

    <hr style={{ margin: '2rem 0' }} />

    ### Ví dụ nhiều người nói (Multi-speaker)
    <InteractiveApiRequest
      apiUrl="https://api.thucchien.ai/gemini/v1beta/models/{{model}}:generateContent"
      initialParameters={{
        apiKey: '<your_api_key>',
        model: 'gemini-2.5-flash-preview-tts',
        input: 'TTS the following conversation between Joe and Jane:\nJoe: How\'s it going today Jane?\nJane: Not too bad, how about you?',
        speaker1Name: 'Joe',
        speaker1Voice: 'Kore',
        speaker2Name: 'Jane',
        speaker2Voice: 'Puck',
      }}
      parameterControls={{
        apiKey: { type: 'input' },
        model: { type: 'select', options: ['gemini-2.5-flash-preview-tts', 'gemini-2.5-pro-preview-tts'] },
        input: { type: 'textarea' },
        speaker1Name: { type: 'input' },
        speaker1Voice: { type: 'select', options: ['Zephyr', 'Puck', 'Charon', 'Kore', 'Fenrir', 'Leda', 'Orus', 'Aoede', 'Callirrhoe', 'Autonoe', 'Enceladus', 'Iapetus', 'Umbriel', 'Algieba', 'Despina', 'Erinome', 'Algenib', 'Rasalgethi', 'Laomedeia', 'Achernar', 'Alnilam', 'Schedar', 'Gacrux', 'Pulcherrima', 'Achird', 'Zubenelgenubi', 'Vindemiatrix', 'Sadachbia', 'Sadaltager', 'Sulafat'] },
        speaker2Name: { type: 'input' },
        speaker2Voice: { type: 'select', options: ['Zephyr', 'Puck', 'Charon', 'Kore', 'Fenrir', 'Leda', 'Orus', 'Aoede', 'Callirrhoe', 'Autonoe', 'Enceladus', 'Iapetus', 'Umbriel', 'Algieba', 'Despina', 'Erinome', 'Algenib', 'Rasalgethi', 'Laomedeia', 'Achernar', 'Alnilam', 'Schedar', 'Gacrux', 'Pulcherrima', 'Achird', 'Zubenelgenubi', 'Vindemiatrix', 'Sadachbia', 'Sadaltager', 'Sulafat'] },
      }}
      headers={{
        'Content-Type': 'application/json',
        'x-goog-api-key': '<your_api_key>',
      }}
      codeTemplates={{
        'curl': {
          language: 'bash',
          template: `curl 'https://api.thucchien.ai/gemini/v1beta/models/{{model}}:generateContent' \\
  -H 'x-goog-api-key: {{apiKey}}' \\
  -H 'Content-Type: application/json' \\
  -d '{
    "contents": [{
      "parts": [
        {"text": "{{input}}"}
      ]
    }],
    "generationConfig": {
        "responseModalities": ["AUDIO"],
        "speechConfig": {
          "multiSpeakerVoiceConfig": {
            "speakerVoiceConfigs": [{
                "speaker": "{{speaker1Name}}",
                "voiceConfig": {
                  "prebuiltVoiceConfig": {
                    "voiceName": "{{speaker1Voice}}"
                  }
                }
              }, {
                "speaker": "{{speaker2Name}}",
                "voiceConfig": {
                  "prebuiltVoiceConfig": {
                    "voiceName": "{{speaker2Voice}}"
                  }
                }
              }]
          }
        }
    }
  }'`,
        },
      }}
      buildBody={(params) => ({
        contents: [{
          parts: [
            { text: params.input }
          ]
        }],
        generationConfig: {
            responseModalities: ["AUDIO"],
            speechConfig: {
              multiSpeakerVoiceConfig: {
                speakerVoiceConfigs: [
                  {
                    speaker: params.speaker1Name,
                    voiceConfig: {
                      prebuiltVoiceConfig: {
                        voiceName: params.speaker1Voice
                      }
                    }
                  },
                  {
                    speaker: params.speaker2Name,
                    voiceConfig: {
                      prebuiltVoiceConfig: {
                        voiceName: params.speaker2Voice
                      }
                    }
                  }
                ]
              }
            }
        }
      })}
      isAudioResponse={true}
      exampleResponse={{
        "candidates": [
          { "content": { "parts": [{ "inlineData": { "mime_type": "audio/L16;codec=pcm;rate=24000", "data": "<base64_encoded_audio_data>" } }], "role": "model" } }
        ]
      }}
    />
  </RightColumn>
</ApiReferenceLayout>
