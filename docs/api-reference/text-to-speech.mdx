---
sidebar_position: 7
title: Chuyển văn bản thành giọng nói
description: Chuyển đổi văn bản thành file âm thanh có giọng nói tự nhiên.
hide_table_of_contents: true
---

import ApiReferenceLayout, { LeftColumn, RightColumn } from '@site/src/components/ApiReferenceLayout';
import InteractiveApiRequest from '@site/src/components/InteractiveApiRequest';
import ApiParameter from '@site/src/components/ApiParameter';
import CodeBlock from '@theme/CodeBlock';
import Badge from '@site/src/components/Badge';
import SpeechOutput from '@site/static/audio/speech_output.mp3';

# Chuyển văn bản thành giọng nói (Text-to-Speech)

## <Badge method="POST" /> `/audio/speech`

Chuyển đổi một đoạn văn bản thành file âm thanh có giọng nói tự nhiên.

<ApiReferenceLayout>
  <LeftColumn>
    ### Cấu trúc yêu cầu (Request Body)

    <ApiParameter name="model" type="string" required>
      ID của mô hình text-to-speech sẽ sử dụng. Ví dụ: `gemini-2.5-flash-preview-tts`.
    </ApiParameter>
    <ApiParameter name="input" type="string" required>
      Đoạn văn bản cần chuyển đổi thành giọng nói.
    </ApiParameter>
    <ApiParameter name="voice" type="string" required isEnd>
      Giọng nói sẽ sử dụng. Các tùy chọn bao gồm `echo`, `nova`, `alloy`, và nhiều hơn nữa.
    </ApiParameter>

    ---

    ### Cấu trúc Phản hồi (Response Body)

    Phản hồi thành công sẽ trả về file âm thanh. Kiểu nội dung (Content-Type) sẽ là `audio/mpeg`.

    <br/>
    <p>Ví dụ file audio đầu ra:</p>
    <audio controls src={SpeechOutput} style={{ width: '100%' }}>
      Your browser does not support the audio element.
    </audio>

  </LeftColumn>
  <RightColumn>
    <InteractiveApiRequest
      apiUrl="https://api.thucchien.ai/audio/speech"
      initialParameters={{
        apiKey: '<your_api_key>',
        model: 'gemini-2.5-flash-preview-tts',
        input: 'Xin chào, đây là một thử nghiệm chuyển văn bản thành giọng nói qua AI Thực Chiến gateway.',
        voice: 'echo',
      }}
      parameterControls={{
        apiKey: { type: 'input' },
        model: { type: 'select', options: ['gemini-2.5-flash-preview-tts', 'gemini-2.5-pro-preview-tts'] },
        input: { type: 'textarea' },
        voice: { type: 'select', options: ['echo', 'nova', 'alloy', 'onyx', 'shimmer', 'fable'] },
      }}
      codeTemplates={{
        'curl': {
          language: 'bash',
          template: `curl https://api.thucchien.ai/audio/speech \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer {{apiKey}}" \\
  -d '{
    "model": "{{model}}",
    "input": "{{input}}",
    "voice": "{{voice}}"
  }' \\
  --output speech_output.mp3`,
        },
        'Python (openai)': {
          language: 'python',
          template: `from openai import OpenAI
from pathlib import Path

client = OpenAI(
    api_key="{{apiKey}}",
    base_url="https://api.thucchien.ai"
)

speech_file_path = Path(__file__).parent / "speech_output.mp3"

response = client.audio.speech.create(
  model="{{model}}",
  voice="{{voice}}",
  input="{{input}}"
)

response.stream_to_file(speech_file_path)
print(f"File âm thanh đã được lưu tại: {speech_file_path}")`,
        },
      }}
      buildBody={(params) => ({
        model: params.model,
        input: params.input,
        voice: params.voice,
      })}
      isAudioResponse={true}
      exampleResponse={{
        // This is a placeholder as the actual response is binary audio data.
        "status": 200,
        "contentType": "audio/mpeg",
        "message": "Response body contains the audio file."
      }}
    />
  </RightColumn>
</ApiReferenceLayout>

## Các tham số tùy chọn

Ngoài `model`, `input`, và `voice`, bạn có thể sử dụng thêm các tham số khác để tinh chỉnh giọng nói, tốc độ, và định dạng âm thanh đầu ra.

Để biết danh sách đầy đủ các tham số và cách sử dụng, vui lòng tham khảo tài liệu chính thức tại đây: [Google Cloud Text-to-Speech Documentation](https://cloud.google.com/text-to-speech/docs/gemini-tts#examples)

Ngoài ra, xem thêm nhiều lượt nói (multi-speaker) tại [đây](https://ai.google.dev/gemini-api/docs/speech-generation#multi-speaker)
