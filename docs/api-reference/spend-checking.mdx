---
sidebar_position: 10
title: Ki·ªÉm tra chi ti√™u
description: Ki·ªÉm tra th√¥ng tin API key v√† chi ti√™u hi·ªán t·∫°i.
hide_table_of_contents: true
---

import ApiReferenceLayout, { LeftColumn, RightColumn } from '@site/src/components/ApiReferenceLayout';
import InteractiveApiRequest from '@site/src/components/InteractiveApiRequest';
import ApiParameter from '@site/src/components/ApiParameter';
import Badge from '@site/src/components/Badge';
import styles from '@site/src/components/InteractiveApiRequest.module.css';

export const KeyInfoPreview = ({ data }) => {
  const info = data?.info;
  if (!info) return null;

  const spend = info.spend || 0;
  const maxBudget = info.max_budget;
  const budgetPercentage = maxBudget ? Math.min((spend / maxBudget) * 100, 100) : 0;
  
  const getProgressBarColor = () => {
    if (!maxBudget) return styles.progressBarSuccess;
    if (budgetPercentage >= 90) return styles.progressBarDanger;
    if (budgetPercentage >= 70) return styles.progressBarWarning;
    return styles.progressBarSuccess;
  };

  return (
    <div className={styles.keyInfoPreview}>
      <div className={styles.keyInfoTitle}>
        üìä Budget Usage
      </div>
      
      {/* Budget Progress Section */}
      <div className={styles.budgetSection}>
        <div className={styles.budgetHeader}>
          <div className={styles.budgetAmount}>
            <span className={styles.budgetLabel}>Spend:</span>
            <span className={styles.budgetValue}>${spend.toFixed(4)}</span>
          </div>
          <div className={styles.budgetAmount}>
            <span className={styles.budgetLabel}>Budget:</span>
            <span className={styles.budgetValue}>
              {maxBudget ? `$${maxBudget.toFixed(2)}` : 'Unlimited'}
            </span>
          </div>
        </div>
        
        {maxBudget ? (
          <>
            <div className={styles.progressBarContainer}>
              <div 
                className={`${styles.progressBar} ${getProgressBarColor()}`}
                style={{ width: `${budgetPercentage}%` }}
              >
                <span className={styles.progressBarText}>
                  {budgetPercentage.toFixed(1)}%
                </span>
              </div>
            </div>
          </>
        ) : (
          <div className={styles.unlimitedBadge}>
            No budget limit set
          </div>
        )}
      </div>

      {/* Additional Info Section */}
      <div className={styles.infoSection}>
        <div className={styles.infoRow}>
          <span className={styles.infoLabel}>Key:</span>
          <span className={styles.infoValue}>{info.key_alias || info.key_name || 'N/A'}</span>
        </div>
        <div className={styles.infoRow}>
          <span className={styles.infoLabel}>Status:</span>
          <span className={styles.infoValue}>
            {info.blocked ? (
              <span className={styles.statusBadgeDanger}>‚óè Blocked</span>
            ) : (
              <span className={styles.statusBadgeSuccess}>‚óè Active</span>
            )}
          </span>
        </div>
        <div className={styles.infoRow}>
          <span className={styles.infoLabel}>TPM Limit:</span>
          <span className={styles.infoValue}>
            {info.tpm_limit ? info.tpm_limit.toLocaleString() : 'Unlimited'}
          </span>
        </div>
        <div className={styles.infoRow}>
          <span className={styles.infoLabel}>RPM Limit:</span>
          <span className={styles.infoValue}>
            {info.rpm_limit ? info.rpm_limit.toLocaleString() : 'Unlimited'}
          </span>
        </div>
        <div className={styles.infoRow}>
          <span className={styles.infoLabel}>Models:</span>
          <span className={styles.infoValue}>
            {info.models?.join(', ') || 'N/A'}
          </span>
        </div>
      </div>
    </div>
  );
};

# Ki·ªÉm tra chi ti√™u (Spend Checking)

## <Badge method="GET" /> `/key/info`

L·∫•y th√¥ng tin chi ti·∫øt v·ªÅ API key v√† m·ª©c ƒë·ªô s·ª≠ d·ª•ng hi·ªán t·∫°i.

<ApiReferenceLayout>
  <LeftColumn>
    ### Headers

    <ApiParameter name="Authorization" type="string" required>
      Bearer token v·ªõi API key c·ªßa b·∫°n. Format: `Bearer <your_api_key>`
    </ApiParameter>
    <ApiParameter name="accept" type="string" isEnd>
      Lo·∫°i n·ªôi dung ph·∫£n h·ªìi mong mu·ªën. M·∫∑c ƒë·ªãnh: `application/json`
    </ApiParameter>

    ---

    ### C·∫•u tr√∫c Ph·∫£n h·ªìi (Response Body)

    API s·∫Ω tr·∫£ v·ªÅ m·ªôt ƒë·ªëi t∆∞·ª£ng JSON v·ªõi th√¥ng tin chi ti·∫øt v·ªÅ API key v√† m·ª©c s·ª≠ d·ª•ng.

    #### ƒê·ªëi t∆∞·ª£ng Root

    <ApiParameter name="key" type="string">
      M√£ ƒë·ªãnh danh duy nh·∫•t c·ªßa API key.
    </ApiParameter>
    <ApiParameter name="info" type="object" isEnd>
      ƒê·ªëi t∆∞·ª£ng ch·ª©a th√¥ng tin chi ti·∫øt v·ªÅ API key.
    </ApiParameter>

    #### ƒê·ªëi t∆∞·ª£ng `info`

    <ApiParameter name="key_name" type="string" indent={2}>
      T√™n hi·ªÉn th·ªã c·ªßa API key (c√≥ th·ªÉ ƒë∆∞·ª£c che m·ªôt ph·∫ßn).
    </ApiParameter>
    <ApiParameter name="key_alias" type="string" indent={2}>
      T√™n b√≠ danh c·ªßa API key ƒë·ªÉ d·ªÖ nh·∫≠n di·ªán.
    </ApiParameter>
    <ApiParameter name="spend" type="number" indent={2}>
      T·ªïng s·ªë ti·ªÅn ƒë√£ chi ti√™u b·∫±ng API key n√†y (t√≠nh b·∫±ng USD).
    </ApiParameter>
    <ApiParameter name="max_budget" type="number" indent={2}>
      Ng√¢n s√°ch t·ªëi ƒëa ƒë∆∞·ª£c ph√©p cho API key n√†y. `null` n·∫øu kh√¥ng gi·ªõi h·∫°n.
    </ApiParameter>
        <ApiParameter name="max_parallel_requests" type="number" indent={2}>
      S·ªë l∆∞·ª£ng y√™u c·∫ßu ƒë·ªìng th·ªùi t·ªëi ƒëa ƒë∆∞·ª£c ph√©p cho API key n√†y. Gi·ªõi h·∫°n n√†y ki·ªÉm so√°t s·ªë l∆∞·ª£ng request c√≥ th·ªÉ x·ª≠ l√Ω song song c√πng m·ªôt l√∫c. Tr∆∞·ªùng h·ª£p v∆∞·ª£t qu√° gi·ªõi h·∫°n n√†y, c√°c y√™u c·∫ßu b·ªï sung s·∫Ω b·ªã t·ª´ ch·ªëi tr·∫£ l·ªói 429 (Too Many Requests).
    </ApiParameter>
    <ApiParameter name="metadata" type="object" indent={2}>
      Metadata t√πy ch·ªânh ƒë∆∞·ª£c g√°n cho API key.
    </ApiParameter>
    <ApiParameter name="metadata.model_rpm_limit" type="object" indent={3}>
      Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng request per minute (RPM) cho t·ª´ng m√¥ h√¨nh c·ª• th·ªÉ. ƒê√¢y l√† gi·ªõi h·∫°n t·∫ßn su·∫•t g·ªçi API theo ph√∫t cho m·ªói model. Xem th√™m [Google AI Rate Limits](https://ai.google.dev/gemini-api/docs/rate-limits#tier-3) ƒë·ªÉ bi·∫øt chi ti·∫øt v·ªÅ c√°c gi·ªõi h·∫°n.
    </ApiParameter>
    <ApiParameter name="metadata.model_tpm_limit" type="object" indent={3}>
      Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng token per minute (TPM) cho t·ª´ng m√¥ h√¨nh c·ª• th·ªÉ. ƒê√¢y l√† t·ªïng s·ªë token (input) c√≥ th·ªÉ x·ª≠ l√Ω trong m·ªôt ph√∫t cho m·ªói model. Xem th√™m [Google AI Rate Limits](https://ai.google.dev/gemini-api/docs/rate-limits#tier-3) ƒë·ªÉ bi·∫øt chi ti·∫øt v·ªÅ quota v√† gi·ªõi h·∫°n token.
    </ApiParameter>
    <ApiParameter name="tpm_limit" type="number" indent={2}>
      Gi·ªõi h·∫°n tokens per minute chung cho API Key. `null` n·∫øu kh√¥ng gi·ªõi h·∫°n.
    </ApiParameter>
    <ApiParameter name="rpm_limit" type="number" indent={2}>
      Gi·ªõi h·∫°n requests per minute chung cho API Key. `null` n·∫øu kh√¥ng gi·ªõi h·∫°n.
    </ApiParameter>
    <ApiParameter name="expires" type="string" indent={2}>
      Th·ªùi gian h·∫øt h·∫°n c·ªßa API key. `null` n·∫øu kh√¥ng h·∫øt h·∫°n.
    </ApiParameter>
    <ApiParameter name="models" type="array" indent={2}>
      Danh s√°ch c√°c m√¥ h√¨nh ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng v·ªõi API key n√†y.
    </ApiParameter>
    <ApiParameter name="user_id" type="string" indent={2}>
      ID c·ªßa ng∆∞·ªùi d√πng s·ªü h·ªØu API key.
    </ApiParameter>
    <ApiParameter name="team_id" type="string" indent={2}>
      ID c·ªßa nh√≥m s·ªü h·ªØu API key.
    </ApiParameter>
    <ApiParameter name="blocked" type="boolean" indent={2}>
      Tr·∫°ng th√°i kh√≥a c·ªßa API key. `true` n·∫øu b·ªã kh√≥a, `null` ho·∫∑c `false` n·∫øu ho·∫°t ƒë·ªông.
    </ApiParameter>
    <ApiParameter name="budget_duration" type="string" indent={2}>
      Kho·∫£ng th·ªùi gian t√≠nh ng√¢n s√°ch (v√≠ d·ª•: `1d`, `1w`, `1m`). `null` n·∫øu kh√¥ng c√≥ chu k·ª≥.
    </ApiParameter>
    <ApiParameter name="budget_reset_at" type="string" indent={2}>
      Th·ªùi ƒëi·ªÉm reset ng√¢n s√°ch ti·∫øp theo (ISO 8601). `null` n·∫øu kh√¥ng c√≥ chu k·ª≥.
    </ApiParameter>
    <ApiParameter name="model_spend" type="object" indent={2}>
      Chi ti√™u chi ti·∫øt theo t·ª´ng m√¥ h√¨nh.
    </ApiParameter>
    <ApiParameter name="model_max_budget" type="object" indent={2}>
      Ng√¢n s√°ch t·ªëi ƒëa theo t·ª´ng m√¥ h√¨nh.
    </ApiParameter>
    <ApiParameter name="created_at" type="string" indent={2}>
      Th·ªùi gian t·∫°o API key (ƒë·ªãnh d·∫°ng ISO 8601).
    </ApiParameter>
    <ApiParameter name="updated_at" type="string" indent={2}>
      Th·ªùi gian c·∫≠p nh·∫≠t cu·ªëi c√πng c·ªßa API key (ƒë·ªãnh d·∫°ng ISO 8601).
    </ApiParameter>
    <ApiParameter name="permissions" type="object" indent={2} isEnd>
      C√°c quy·ªÅn h·∫°n ƒë∆∞·ª£c c·∫•p cho API key.
    </ApiParameter>

  </LeftColumn>
  <RightColumn>
    <InteractiveApiRequest
      method="GET"
      apiUrl="https://api.thucchien.ai/key/info"
      initialParameters={{
        apiKey: '<your_api_key>',
      }}
      parameterControls={{
        apiKey: { type: 'input' },
      }}
      customPreview={(response) => <KeyInfoPreview data={response} />}
      codeTemplates={{
        'curl': {
          language: 'bash',
          template: `curl -X 'GET' \\
  'https://api.thucchien.ai/key/info' \\
  -H 'accept: application/json' \\
  -H 'Authorization: Bearer {{apiKey}}'`,
        },
        'Python (requests)': {
          language: 'python',
          template: `import requests

API_KEY = "{{apiKey}}"
url = "https://api.thucchien.ai/key/info"

headers = {
    "accept": "application/json",
    "Authorization": f"Bearer {API_KEY}"
}

response = requests.get(url, headers=headers)

if response.status_code == 200:
    key_info = response.json()
    info = key_info['info']
    print("Key Alias:", info['key_alias'])
    print("Spend: $" + str(info['spend']))
    print("Max Budget:", info.get('max_budget', 'Unlimited'))
    print("Models:", info['models'])
    print("Created:", info['created_at'])
else:
    print("Error:", response.status_code)
    print(response.text)`,
        },
        'Node.js (fetch)': {
          language: 'javascript',
          template: `const API_KEY = "{{apiKey}}";
const url = "https://api.thucchien.ai/key/info";

fetch(url, {
  method: 'GET',
  headers: {
    'accept': 'application/json',
    'Authorization': \`Bearer \${API_KEY}\`
  }
})
  .then(response => response.json())
  .then(data => {
    const info = data.info;
    console.log('Key Alias:', info.key_alias);
    console.log('Spend:', info.spend);
    console.log('Max Budget:', info.max_budget || 'Unlimited');
    console.log('Models:', info.models);
    console.log('Created:', info.created_at);
  })
  .catch(error => console.error('Error:', error));`,
        },
      }}
      buildBody={null}
      exampleResponse={{
  "key": "b1ba143c164e66c912677762a7a0b0a2d5bd686b59999823e5fd2ccb3c71731f",
  "info": {
    "key_name": "sk-...gHQK",
    "key_alias": "official-01@key",
    "soft_budget_cooldown": false,
    "spend": 0.5,
    "expires": null,
    "models": [
      "all-team-models"
    ],
    "aliases": {},
    "config": {},
    "user_id": "f52b3ad4-986e-4c62-9bbd-79e80e221d0b",
    "team_id": "5b4c20e9-1ff9-4ac0-bec6-0b00a25a31ab",
    "permissions": {},
    "max_parallel_requests": 200, // <- max concurrent requests per key
    "metadata": {
      "model_rpm_limit": {
        "imagen-4": 20,
        "gemini-2.5-pro": 2000,
        "gemini-2.5-flash": 10000,
        "veo-2.0-generate-001": 2,
        "veo-2.0-generate-exp": 2,
        "veo-3.0-generate-001": 10,
        "gemini-2.5-flash-image": 5000,
        "veo-2.0-generate-preview": 2,
        "veo-3.1-generate-preview": 10,
        "veo-3.0-fast-generate-001": 10,
        "gemini-2.5-pro-preview-tts": 100,
        "gemini-2.5-flash-preview-tts": 1000,
        "veo-3.1-fast-generate-preview": 10,
        "gemini-2.5-flash-image-preview": 5000
      },
      "model_tpm_limit": {
        "gemini-2.5-pro": 8000000,
        "gemini-2.5-flash": 8000000,
        "gemini-2.5-flash-image": 5000000,
        "gemini-2.5-pro-preview-tts": 1000000,
        "gemini-2.5-flash-preview-tts": 1000000,
        "gemini-2.5-flash-image-preview": 5000000
      }
    },
    "blocked": null,
    "tpm_limit": 800000,
    "rpm_limit": 200,
    "max_budget": 50,
    "budget_duration": null,
    "budget_reset_at": null,
    "allowed_cache_controls": [],
    "allowed_routes": [],
    "model_spend": {},
    "model_max_budget": {},
    "budget_id": null,
    "organization_id": null,
    "object_permission_id": null,
    "created_at": "2025-10-21T07:12:36.122000+00:00",
    "created_by": "default_user_id",
    "updated_at": "2025-10-21T07:24:39.726000+00:00",
    "updated_by": "default_user_id",
    "rotation_count": 0,
    "auto_rotate": false,
    "rotation_interval": null,
    "last_rotation_at": null,
    "key_rotation_at": null,
    "litellm_budget_table": null,
    "litellm_organization_table": null,
    "object_permission": null
  }
}}
    />
  </RightColumn>
</ApiReferenceLayout>
