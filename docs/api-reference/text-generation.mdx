---
sidebar_position: 1
title: Text Generation
hide_table_of_contents: true
---

import ApiReferenceLayout, { LeftColumn, RightColumn } from '@site/src/components/ApiReferenceLayout';
import InteractiveApiRequest from '@site/src/components/InteractiveApiRequest';
import ApiParameter from '@site/src/components/ApiParameter';

# Tham chiếu API: Sinh văn bản

Tài liệu này cung cấp mô tả chi tiết về endpoint dùng để tạo ra các phản hồi văn bản.

<ApiReferenceLayout>
  <LeftColumn>
    ## Create chat completion

    `POST /chat/completions`

    Tạo một phản hồi cho một cuộc hội thoại cho trước.

    ### Request Body

    <ApiParameter name="messages" type="array" required>
      Một danh sách các đối tượng message mô tả cuộc hội thoại cho đến thời điểm hiện tại.
    </ApiParameter>
    <ApiParameter name="model" type="string" required>
      ID của mô hình sẽ sử dụng. Xem danh sách các mô hình được hỗ trợ trong trang hướng dẫn.
    </ApiParameter>
    <ApiParameter name="frequency_penalty" type="number">
      Giá trị từ -2.0 đến 2.0. Giá trị dương sẽ phạt các token mới dựa trên tần suất xuất hiện của chúng trong văn bản đã có, làm tăng khả năng mô hình nói về các chủ đề mới.
    </ApiParameter>
    <ApiParameter name="max_tokens" type="integer">
      Số lượng token tối đa được tạo ra trong phần hoàn thành.
    </ApiParameter>
    <ApiParameter name="n" type="integer">
      Số lượng lựa chọn hoàn thành cần tạo cho mỗi tin nhắn đầu vào. Mặc định là 1.
    </ApiParameter>
    <ApiParameter name="presence_penalty" type="number">
      Giá trị từ -2.0 đến 2.0. Giá trị dương sẽ phạt các token mới dựa trên việc chúng có xuất hiện trong văn bản đã có hay không, làm tăng khả năng mô hình nói về các chủ đề mới.
    </ApiParameter>
    <ApiParameter name="response_format" type="object">
      Một đối tượng chỉ định định dạng mà mô hình phải tạo ra. Ví dụ: `&lbrace; "type": "json_object" &rbrace;` để bật chế độ JSON.
    </ApiParameter>
    <ApiParameter name="seed" type="integer">
      Nếu được chỉ định, hệ thống sẽ cố gắng trả về kết quả có tính xác định (deterministic).
    </ApiParameter>
    <ApiParameter name="stream" type="boolean">
      Nếu được đặt là `true`, các delta message từng phần sẽ được gửi, giống như trong ChatGPT. Mặc định là `false`.
    </ApiParameter>
    <ApiParameter name="temperature" type="number">
      Giá trị từ 0 đến 2. Giá trị cao hơn (ví dụ: 0.8) sẽ làm cho đầu ra ngẫu nhiên hơn, trong khi giá trị thấp hơn (ví dụ: 0.2) sẽ làm cho nó tập trung và xác định hơn.
    </ApiParameter>
    <ApiParameter name="top_p" type="number">
      Một phương pháp thay thế cho việc lấy mẫu bằng temperature, được gọi là nucleus sampling. Mô hình sẽ xem xét kết quả của các token với tổng khối lượng xác suất `top_p`. Ví dụ, 0.1 có nghĩa là chỉ các token chiếm 10% khối lượng xác suất hàng đầu được xem xét.
    </ApiParameter>
    <ApiParameter name="user" type="string">
      Một định danh duy nhất đại diện cho người dùng cuối của bạn, có thể giúp giám sát và phát hiện lạm dụng.
    </ApiParameter>
  </LeftColumn>
  <RightColumn>
    ### Yêu cầu Tương tác
    <InteractiveApiRequest />
  </RightColumn>
</ApiReferenceLayout>

---

### Cấu trúc Phản hồi (Response Body)

API sẽ trả về một đối tượng JSON với cấu trúc như sau.

#### Đối tượng `ChatCompletion`

| Thuộc tính | Kiểu dữ liệu | Mô tả |
| :--- | :--- | :--- |
| `id` | string | Một định danh duy nhất cho yêu cầu hoàn thành trò chuyện. |
| `choices` | array | Một danh sách các lựa chọn hoàn thành. |
| `created` | integer | Thời gian Unix timestamp của thời điểm yêu cầu được tạo. |
| `model` | string | Tên mô hình đã được sử dụng. |
| `object` | string | Loại đối tượng, luôn là `chat.completion`. |
| `usage` | object | Thống kê sử dụng cho yêu cầu. |

#### Đối tượng `Choice`

| Thuộc tính | Kiểu dữ liệu | Mô tả |
| :--- | :--- | :--- |
| `finish_reason` | string | Lý do mô hình ngừng tạo token. Có thể là `stop` (đạt điểm dừng tự nhiên), `length` (đạt `max_tokens`), v.v. |
| `index` | integer | Chỉ số của lựa chọn trong danh sách. |
| `message` | object | Đối tượng message chứa nội dung phản hồi. |

#### Đối tượng `Usage`

| Thuộc tính | Kiểu dữ liệu | Mô tả |
| :--- | :--- | :--- |
| `completion_tokens` | integer | Số lượng token trong phần nội dung được tạo ra. |
| `prompt_tokens` | integer | Số lượng token trong phần prompt đầu vào. |
| `total_tokens` | integer | Tổng số token đã sử dụng trong yêu cầu. |
