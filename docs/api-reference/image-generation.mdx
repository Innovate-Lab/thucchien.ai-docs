---
sidebar_position: 2
title: Sinh hình ảnh
description: Tạo một hoặc nhiều hình ảnh dựa trên mô tả văn bản (prompt).
hide_table_of_contents: true
---

import ApiReferenceLayout, { LeftColumn, RightColumn } from '@site/src/components/ApiReferenceLayout';
import InteractiveApiRequest from '@site/src/components/InteractiveApiRequest';
import ApiParameter from '@site/src/components/ApiParameter';
import CodeBlock from '@theme/CodeBlock';
import Badge from '@site/src/components/Badge';

# Sinh hình ảnh (Image Generation)

## <Badge method="POST" /> `/images/generations`

Tạo một hoặc nhiều hình ảnh dựa trên mô tả văn bản (prompt).
<ApiReferenceLayout>
  <LeftColumn>
  :::tip[Phương pháp thay thế]
  Ngoài endpoint này, bạn cũng có thể tạo ảnh bằng cách sử dụng các mô hình đa phương thức thông qua endpoint [`/chat/completions`](/docs/api-reference/image-generation-with-completions).
  :::

  :::info[Tham khảo]
  Chi tiết đầy đủ các tham số, tham khảo [tài liệu LiteLLM API](https://docs.litellm.ai/docs/image_generation)
  :::

    ### Cấu trúc yêu cầu (Request Body)

    <ApiParameter name="prompt" type="string" required>
      Mô tả chi tiết về hình ảnh cần tạo.
    </ApiParameter>
    <ApiParameter name="model" type="string" required>
      Mô hình sẽ sử dụng để tạo ảnh. Mặc định là `imagen-4`.
    </ApiParameter>
    <ApiParameter name="n" type="integer">
      Số lượng hình ảnh cần tạo. Từ 1 đến 4.
    </ApiParameter>
    <ApiParameter name="size" type="string" isEnd>
      Kích thước của ảnh. Phải là `1024x1024`, `1536x1024` (ngang), `1024x1536` (dọc)
    </ApiParameter>

    ---

    ### Cấu trúc Phản hồi (Response Body)

    API sẽ trả về một đối tượng JSON chứa danh sách các hình ảnh được tạo.

    #### Đối tượng `ImageResponse`

    <ApiParameter name="created" type="integer">
      Thời gian Unix timestamp của thời điểm yêu cầu được tạo.
    </ApiParameter>
    <ApiParameter name="data" type="array" isEnd>
      Một danh sách các đối tượng hình ảnh được tạo.
    </ApiParameter>

    <ApiParameter name="b64_json" type="string" isEnd indent={2}>
      Dữ liệu hình ảnh được mã hóa dưới dạng Base64.
    </ApiParameter>
    <ApiParameter name="revised_prompt" type="string" isEnd indent={2}>
      Prompt đã được tinh chỉnh bởi mô hình để tạo ra hình ảnh tốt hơn (nếu có).
    </ApiParameter>

  </LeftColumn>
  <RightColumn>
    <InteractiveApiRequest
      apiUrl="https://api.thucchien.ai/images/generations"
      initialParameters={{
        apiKey: '<your_api_key>',
        model: 'imagen-4',
        prompt: 'A photograph of a weathered wooden bench situated on rain-slicked pavement at a quiet waterfront. The bench, with its ornate metal arms, reflects the luminous full moon above, showcasing faint scratches and a subtle grey patina on its surface. Across the tranquil water, blurred city lights shimmer and are mirrored in gentle ripples, while bare tree branches frame the moon and add a touch of gothic elegance to the composition. The scene is bathed in cool, silvery moonlight, creating a hushed and contemplative atmosphere, with "El Magnifico" hand-signed in the lower right corner and dated 06.10.2025.',
        n: 1,
        size: '1024x1024',
      }}
      parameterControls={{
        apiKey: { type: 'input' },
        model: { type: 'select', options: ['imagen-4'] },
        prompt: { type: 'textarea' },
        n: { type: 'input' },
        size: { type: 'select', options: ['auto', '1024x1024', '1536x1024', '1024x1536'] },
      }}
      codeTemplates={{
        'curl': {
          language: 'bash',
          template: `curl https://api.thucchien.ai/images/generations \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer {{apiKey}}" \\
  -d '{
    "model": "{{model}}",
    "prompt": "{{prompt}}",
    "n": "{{n}}",
    "size": "{{size}}",
  }'`,
        },
        'Python (openai)': {
          language: 'python',
          template: `from openai import OpenAI
import base64

client = OpenAI(
    api_key="{{apiKey}}",
    base_url="https://api.thucchien.ai"
)

response = client.images.generate(
    model="{{model}}",
    prompt="{{prompt}}",
    n="{{n}}",
    size="{{size}}",
)

# Lưu ảnh từ dữ liệu base64
b64_data = response.data[0].b64_json
image_data = base64.b64decode(b64_data)
with open("generated_image.png", "wb") as f:
    f.write(image_data)
print("Image saved to generated_image.png")`,
        },
        'Python (requests)': {
          language: 'python',
          template: `import requests
import json
import base64

AI_API_BASE = "https://api.thucchien.ai"
AI_API_KEY = "{{apiKey}}"

url = f"{AI_API_BASE}/images/generations"
headers = {
    "Content-Type": "application/json",
    "Authorization": f"Bearer {AI_API_KEY}"
}
data = {
    "model": "{{model}}",
    "prompt": "{{prompt}}",
    "n": "{{n}}",
    "size": "{{size}}",
}

response = requests.post(url, headers=headers, data=json.dumps(data))

if response.status_code == 200:
    result = response.json()
    b64_data = result['data'][0]['b64_json']
    image_data = base64.b64decode(b64_data)
    with open("generated_image.png", "wb") as f:
        f.write(image_data)
    print("Image saved to generated_image.png")
else:
    print(f"Error: {response.status_code}")
    print(response.text)`,
        },
      }}
      buildBody={(params) => ({
        model: params.model,
        prompt: params.prompt,
        n: parseInt(params.n, 10),
        size: params.size,
      })}
      exampleResponse={{
        "created": 1759806089,
        "data": [
          {
            "b64_json": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAE... [TRUNCATED]",
            "revised_prompt": "A photorealistic image of an astronaut in a full spacesuit, confidently riding a majestic horse across the dusty, red landscape of Mars. The sky is a hazy orange, and Earth is visible as a small blue dot in the distance."
          }
        ]
      }}
    />
  </RightColumn>
</ApiReferenceLayout>
