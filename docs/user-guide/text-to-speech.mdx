---
sidebar_position: 6
---

# Chuyển văn bản thành giọng nói (Text-to-Speech)

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

Các mô hình Text-to-Speech (TTS) cho phép bạn chuyển đổi một đoạn văn bản thành file âm thanh có giọng nói tự nhiên.

**Các model được hỗ trợ:**
- `gemini-tts-flash` (Google Gemini)
- `gemini-tts-pro` (Google Gemini)

**Endpoint:** `POST /audio/speech`

API này cũng tuân theo chuẩn của OpenAI, giúp việc tích hợp trở nên nhất quán.

<Tabs>
  <TabItem value="curl" label="curl">
    <p>Cách này cho phép bạn nhanh chóng tạo và lưu file âm thanh.</p>
    <CodeBlock language="bash">
    {`curl https://api0.lab.vbi-server.com/audio/speech \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer <your_api_key>" \\
  -d '{
    "model": "gemini-tts-flash",
    "input": "Xin chào, đây là một thử nghiệm chuyển văn bản thành giọng nói qua [AI Thực Chiến](https://thucchien.ai) gateway.",
    "voice": "echo"
  }' \\
  --output speech_output.mp3`}
    </CodeBlock>
  </TabItem>
  <TabItem value="python-requests" label="Python (requests)">
    <p>Cách này cho bạn quyền kiểm soát việc lưu file.</p>
    <CodeBlock language="python">
    {`import requests

# --- Cấu hình ---
VBI_API_BASE = "https://api0.lab.vbi-server.com"
VBI_API_KEY = "sk-1234" # Thay bằng API key của bạn

# --- Thực thi ---
url = f"{VBI_API_BASE}/audio/speech"
headers = {
    "Content-Type": "application/json",
    "Authorization": f"Bearer {VBI_API_KEY}"
}
data = {
    "model": "gemini-tts-pro",
    "input": "Hello world! This is a test of the text-to-speech API.",
    "voice": "nova"
}

response = requests.post(url, headers=headers, json=data, stream=True)

if response.status_code == 200:
    with open("speech_from_requests.mp3", "wb") as f:
        for chunk in response.iter_content(chunk_size=8192):
            f.write(chunk)
    print("File âm thanh đã được tạo thành công!")
else:
    print(f"Error: {response.status_code}")
    print(response.text)`}
    </CodeBlock>
  </TabItem>
  <TabItem value="python-openai" label="Python (openai)">
    <p>Thư viện <code>openai</code> cung cấp một giao diện rất sạch sẽ cho tác vụ này.</p>
    <CodeBlock language="python">
    {`from openai import OpenAI
from pathlib import Path

# --- Cấu hình ---
VBI_API_BASE = "https://api0.lab.vbi-server.com"
VBI_API_KEY = "sk-1234" # Thay bằng API key của bạn

# --- Thực thi ---
client = OpenAI(
    api_key=VBI_API_KEY,
    base_url=VBI_API_BASE
)

speech_file_path = Path(__file__).parent / "speech_from_openai.mp3"

response = client.audio.speech.create(
  model="gemini-tts-flash",
  voice="alloy",
  input="Hôm nay là một ngày đẹp trời để lập trình."
)

response.stream_to_file(speech_file_path)
print(f"File âm thanh đã được lưu tại: {speech_file_path}")`}
    </CodeBlock>
  </TabItem>
</Tabs>
