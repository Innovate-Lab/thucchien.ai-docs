---
sidebar_position: 2
---

import ConsistentCharacter01Img from '@site/static/img/consistent_character_1.png'
import ConsistentCharacter02Img from '@site/static/img/consistent_character_2.png'
import ConsistentCharacter03Img from '@site/static/img/consistent_character_3.png'
import ConsistentCharacter04Img from '@site/static/img/iconsistent_character_1.png'
import ConsistentCharacter05Img from '@site/static/img/iconsistent_character_2.png'
import ConsistentCharacter06Img from '@site/static/img/iconsistent_character_3.png'


# Đồng nhất nhân vật khi Generate nhiều ảnh

## 1. Vấn đề

Bạn có một ý tưởng tuyệt vời cho một bộ truyện tranh, một series ảnh kể chuyện, hay đơn giản là muốn nhân vật "con cưng" của mình xuất hiện trong nhiều bối cảnh khác nhau. Bạn bắt đầu dùng AI, gõ vào những câu lệnh mô tả chi tiết... và rồi "thảm họa" xảy ra.

Mỗi lần nhấn "Generate", AI lại cho ra một phiên bản nhân vật "na ná" nhưng không hề giống nhau. Cùng là "cô gái tóc đỏ, mắt xanh", nhưng lúc thì mặt tròn, lúc thì mặt V-line, lúc thì kiểu tóc xoăn tít, lúc lại thẳng đơ.

**Đây chính là "Vấn đề mất nhất quán nhân vật"** – một trong những rào cản lớn nhất khi sử dụng các công cụ AI chuyển từ text sang ảnh thông thường cho các dự án dài hơi.

## 2. Minh họa vấn đề với ứng dụng text-to-image thông thường

**Nhân vật:** Thám tử nhí "Kenji" (10 tuổi, người Nhật, tóc đen rối, kính gọng tròn đỏ, áo khoác thám tử be).

**Prompt cơ bản:**
```
a young Japanese detective boy named Kenji, 10 years old, messy black hair, 
wearing round red glasses and a beige trench coat, anime style
```

<img src={ConsistentCharacter01Img} alt="Kenji" />

#### Tình huống 1: Kenji đọc sách trong thư viện

**Prompt:**
```
a young Japanese detective boy Kenji, messy black hair, round red glasses, 
beige trench coat, reading a book in a library, anime style
```

<img src={ConsistentCharacter02Img} alt="Kenji" />

**Kết quả (Ảnh 1):**
- Kenji với khuôn mặt bầu bĩnh, kính dày, tóc mái che mắt.

#### Tình huống 2: Kenji truy đuổi tội phạm trên đường phố Tokyo

**Prompt:**
```
a young Japanese detective boy Kenji, messy black hair, round red glasses, 
beige trench coat, chasing someone on a busy Tokyo street, dynamic action shot, anime style
```

<img src={ConsistentCharacter03Img} alt="Kenji" />

**Kết quả (Ảnh 2):**
- Kenji khác hẳn: khuôn mặt trưởng thành hơn, kiểu tóc, kính khác. Không nhận ra là cùng một người.

:::danger Vấn đề
Mặc dù sử dụng cùng một mô tả nhân vật, kết quả lại hoàn toàn khác nhau giữa các lần generate!
:::

## 3. Giải pháp: Sử dụng mô hình AI đa phương thức

### Tại sao mô hình đa phương thức hiệu quả?

Mô hình đa phương thức (ví dụ: **Nano-banana**) có những ưu điểm vượt trội:

- **Hiểu cả hình ảnh và văn bản:** Có khả năng phân tích và học hỏi từ cả hai loại dữ liệu đầu vào.
- **Có "trí nhớ" về lịch sử hội thoại:** Ghi nhớ các ảnh đã tạo trước đó trong cùng phiên chat.
- **Đảm bảo tính nhất quán:** Giúp nhân vật nhất quán qua nhiều lần tạo mà không cần lặp lại mô tả ngoại hình chi tiết.

:::tip Lưu ý quan trọng
Vì mô hình có thể hiểu được nhiều cặp câu hỏi-câu trả lời, nên **tạo các ảnh trong cùng 1 session chat**. Nghĩa là ghép những lần tạo trước mà bạn hài lòng và mô tả, yêu cầu hiện tại để đưa vào mô hình.
:::

## 4. Minh họa giải pháp với mô hình đa phương thức

### Bước 1: Giới thiệu nhân vật lần đầu (làm "chuẩn")

**Prompt:**
```
a young Japanese detective boy named Kenji, 10 years old, messy black hair, 
wearing round red glasses and a beige trench coat, anime style
```

<img src={ConsistentCharacter04Img} alt="Kenji" />

**Kết quả:**
- Ảnh Kenji chuẩn, đẹp, nhất quán - đây sẽ là ảnh tham chiếu cho các lần tạo tiếp theo.

### Bước 2: Thay đổi bối cảnh (AI tự hiểu nhân vật đã tạo)

**Prompt:**
```
He is reading a book in a library
```

<img src={ConsistentCharacter05Img} alt="Kenji" />

**Kết quả:**
- Kenji trong thư viện, **y hệt ảnh "chuẩn"** về mọi chi tiết (khuôn mặt, kiểu tóc, kính, áo khoác).

### Bước 3: Thay đổi hành động và bối cảnh phức tạp hơn

**Prompt:**
```
He is chasing someone on a busy Tokyo street
```

<img src={ConsistentCharacter06Img} alt="Kenji" />

**Kết quả:**
- Kenji truy đuổi trên đường, **vẫn giữ nguyên "danh tính"** của mình về mọi mặt.

:::success Kết luận
Rõ ràng khi sử dụng mô hình có thể hiểu được cả hình và chữ như Nano-banana, nhân vật đã được đồng nhất qua nhiều bối cảnh khác nhau.
:::

## 5. Tips & Tricks quan trọng

### Đặc biệt quan trọng

:::tip Không cần lặp lại mô tả
Khi ghép những lần tạo trước mà bạn hài lòng và mô tả, yêu cầu hiện tại để đưa vào mô hình thì **lần mô tả sau không cần phải nhắc lại hình dáng, kiểu tóc** của nhân vật nữa vì mô hình này có khả năng hiểu lịch sử.
:::

### Quản lý ngữ cảnh

:::warning Lưu ý về độ dài chat
Nếu đoạn chat quá dài, vượt qua ngữ cảnh mô hình, hãy xem xét **chỉ đưa vào những message (prompt và hình ảnh tương ứng) liên quan và cần thiết** để tạo ảnh cho prompt hiện tại.
:::

## 6. Tổng kết

Để tạo nhân vật nhất quán qua nhiều ảnh:

1. ✅ **Sử dụng mô hình đa phương thức** (như Nano-banana) thay vì text-to-image thuần túy
2. ✅ **Tạo tất cả ảnh trong cùng 1 session chat** để mô hình ghi nhớ ngữ cảnh
3. ✅ **Tạo ảnh "chuẩn" đầu tiên** với mô tả chi tiết
4. ✅ **Các lần sau chỉ cần mô tả hành động/bối cảnh** mới, không cần lặp lại ngoại hình
5. ✅ **Quản lý độ dài chat** - chỉ giữ lại messages quan trọng nếu chat quá dài

Với phương pháp này, bạn có thể tạo ra cả một bộ truyện tranh, series ảnh với nhân vật hoàn toàn nhất quán!
